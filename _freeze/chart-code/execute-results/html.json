{
  "hash": "3867d7ab4802a9fef9f4a78c322b3b0e",
  "result": {
    "markdown": "---\ntitle: \"Chart code\"\n---\n\n\nHere, we document some of the data and scripts used in producing the charts in the data visualization segments of the Institute. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# silently load packages\nsuppressPackageStartupMessages(library(\"data.table\"))\nsuppressPackageStartupMessages(library(\"ggplot2\"))\n\n# set data.table printout options\noptions(\n  datatable.print.nrows = 20,\n  datatable.print.topn = 5,\n  datatable.print.class = TRUE\n)\n```\n:::\n\n\n\n## Correlation\n\nEngineering students at 14 institutions persisting to year 4 and graduating by year 6, 1987--2019. \n\nData are available in the [Institute repository data directory]( https://github.com/MIDFIELDR/2023-midfield-institute/tree/46d97d20593b59b7f2350689b41f2607eb8d0d91/data). If you download that CSV file and save it in your project data directory, you can input the data using:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# import data\nDT <- fread(\"data/four-year-six-year.csv\")\nDT\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    institution    sex    y4    y6\n         <char> <char> <int> <int>\n 1:           A Female  4953  4525\n 2:           A   Male 17897 16312\n 3:           B Female  2834  3316\n 4:           B   Male  9351 10473\n 5:           C Female  2071  1764\n---                               \n24:           M   Male  1829  1160\n25:           N Female   322   228\n26:           N   Male  1338   838\n27:           P Female   457   283\n28:           P   Male   827   447\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(DT, aes(x = y4/1000, y = y6/1000)) +\n  geom_smooth(method = \"lm\", se = FALSE, size = 0.6, color = \"gray\") +\n  geom_point(size = 3, \n             shape = 21, \n             color = \"black\", \n             fill = \"gray70\") + \n  labs(x = \"4-yr persisters (thousands)\", \n       y = \"6-yr completers (thousands)\", \n       title = \"\")\n```\n\n::: {.cell-output-display}\n![](chart-code_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(DT, aes(x = y4/1000, y = y6/1000, color = sex, fill = sex)) +\n  geom_smooth(method = \"lm\", se = FALSE, size = 0.6) +\n  geom_point(size = 3, shape = 21) + \n  scale_color_manual(values = c(\"#1B7837\", \"#762A83\")) +\n  scale_fill_manual(values = c(\"#5AAE61\", \"#9970AB\")) +\n  labs(x = \"4-yr persisters (thousands)\", \n       y = \"6-yr completers (thousands)\", \n       title = \"\") + \n  theme(legend.position = \"none\") +\n  geom_text(data = DT[institution == \"B\"],\n            aes(x = y4/1000, y = y6/1000, label = sex),\n            vjust = -1, hjust = 1, size = 4)\n```\n\n::: {.cell-output-display}\n![](chart-code_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(DT, aes(x = y4/1000, y = y6/1000, color = sex, fill = sex)) +\n  geom_smooth(method = \"lm\", se = FALSE, size = 0.6) +\n  geom_point(size = 3, shape = 21) + \n  scale_color_manual(values = c(\"#1B7837\", \"#762A83\")) +\n  scale_fill_manual(values = c(\"#5AAE61\", \"#9970AB\")) +\n  labs(x = \"4-yr persisters (thousands)\", \n       y = \"6-yr completers (thousands)\", \n       title = \"\") + \n  theme(legend.position = \"none\") +\n  facet_wrap(vars(sex))\n```\n\n::: {.cell-output-display}\n![](chart-code_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "chart-code_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}